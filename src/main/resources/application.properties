# ===========================================
# 애플리케이션 이름
# ===========================================
spring.application.name=spring-mustache-board-example

# ===========================================
# H2 인메모리 데이터베이스 설정
# - mem:boarddb : 인메모리 모드로 동작 (애플리케이션 종료 시 데이터 삭제)
# - sa / (빈 비밀번호) : H2 기본 계정
# ===========================================
spring.datasource.url=jdbc:h2:mem:boarddb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ===========================================
# H2 웹 콘솔 설정
# - enabled=true : 브라우저에서 DB 를 직접 조회할 수 있는 콘솔 활성화
# - path=/h2-console : http://localhost:8080/h2-console 로 접속
# ===========================================
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ===========================================
# JPA / Hibernate 설정
# - ddl-auto=create : 애플리케이션 시작 시 엔티티 기반으로 테이블을 새로 생성
#   (운영 환경에서는 validate 또는 none 권장)
# - show-sql=true : 실행되는 SQL 쿼리를 콘솔에 출력
# - format_sql=true : 출력되는 SQL 을 보기 좋게 포맷팅
# ===========================================
spring.jpa.hibernate.ddl-auto=create
spring.jpa.defer-datasource-initialization=true
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ===========================================
# SQL 초기화 설정
# - mode=always : 애플리케이션 시작 시 data.sql 자동 실행
# - data-locations : 테스트 데이터 SQL 파일 경로
# ===========================================
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data/test_data.sql

# ===========================================
# 파일 업로드 설정
# - upload-dir : 업로드 파일 저장 경로 (프로젝트 루트/uploads/)
# - max-file-size : 단일 파일 최대 크기 (10MB)
# - max-request-size : 전체 요청 최대 크기 (10MB)
# ===========================================
file.upload-dir=${user.dir}/uploads/
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===========================================
# Mustache 템플릿 엔진 설정
# - expose-session-attributes : HttpSession 의 attribute 를 템플릿에서 접근 가능
# - expose-request-attributes : HttpServletRequest 의 attribute 를 템플릿에서 접근 가능
#   (컨트롤러에서 req.setAttribute() 로 세팅한 값을 {{ 변수명 }} 으로 사용)
# ===========================================
spring.mustache.servlet.expose-session-attributes=true
spring.mustache.servlet.expose-request-attributes=true
